(function(t){function e(e){for(var n,r,l=e[0],o=e[1],c=e[2],d=0,f=[];d<l.length;d++)r=l[d],s[r]&&f.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/test-timetable/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),s=a.n(n);s.a},1190:function(t,e,a){"use strict";var n=a("a7c7"),s=a.n(n);s.a},"3e4a":function(t,e,a){},"4ff6":function(t,e,a){"use strict";var n=a("9e98"),s=a.n(n);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",{staticClass:"heading"},[t._v("Табло аэропорта")]),a("TimetableSearch"),a("div",{staticClass:"wrap"},[a("Timetable"),a("TimetableControls")],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"timetable"},[t._m(0),t._l(t.flights,function(t,e){return a("TimetableItem",{key:e,attrs:{flight:t}})}),0===t.flights.length?a("tr",[a("td",{staticClass:"timetable__error",attrs:{colspan:"4"}},[t._v("\n      Такой рейс не найден. Пожалуйста, уточните запрос.\n    ")])]):t._e()],2)},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticClass:"timetable__heading timetable__heading--time"},[t._v("Время")]),a("th",{staticClass:"timetable__heading timetable__heading--destination"},[t._v("Направление")]),a("th",{staticClass:"timetable__heading timetable__heading--flight"},[t._v("Рейс")]),a("th",{staticClass:"timetable__heading timetable__heading--status"},[t._v("Статус")])])}],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"flight"},[a("td",{staticClass:"flight__cell"},[t._v("\n    "+t._s(t.formatNumber(t.flight.time.hours))+":"+t._s(t.formatNumber(t.flight.time.minutes))+"\n  ")]),a("td",{staticClass:"flight__cell flight__cell--destination"},[t._v("\n    "+t._s(t.flight.destination.name)+"\n    "),a("span",{staticClass:"flight__code"},[t._v("\n      ("+t._s(t.flight.destination.code)+")\n    ")])]),a("td",{staticClass:"flight__cell"},[t._v("\n    "+t._s(t.flight.flight)+"\n  ")]),a("td",{staticClass:"flight__cell"},[t._v("\n    "+t._s(t.flight.status)+"\n  ")])])},c=[],u=(a("6b54"),function(t){return t>9?t.toString():"0".concat(t.toString())}),d={name:"TimetableItem",props:{flight:Object},methods:{formatNumber:u}},f=d,h=(a("ac11"),a("2877")),m=Object(h["a"])(f,o,c,!1,null,"19c3a6ea",null),p=m.exports,_={name:"Timetable",components:{TimetableItem:p},computed:{flights:function(){return this.$store.getters.getFilteredFlights}}},g=_,b=(a("1190"),Object(h["a"])(g,r,l,!1,null,"095651a4",null)),v=b.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"controls"},[a("form",{staticClass:"controls__form"},[a("fieldset",{staticClass:"controls__fieldset"},[a("legend",{staticClass:"controls__legend"},[t._v("Направление")]),a("label",{staticClass:"radio",on:{click:t.showDepartures}},[a("input",{staticClass:"radio__input visually-hidden",attrs:{type:"radio",name:"direction",checked:""}}),a("span",{staticClass:"radio__box"}),t._v("\n        Вылет\n      ")]),a("label",{staticClass:"radio",on:{click:t.showArrivals}},[a("input",{staticClass:"radio__input visually-hidden",attrs:{type:"radio",name:"direction"}}),a("span",{staticClass:"radio__box"}),t._v("\n        Прилёт\n      ")])]),a("fieldset",{staticClass:"controls__fieldset"},[a("legend",{staticClass:"controls__legend"},[t._v("Только задержанные")]),a("label",{staticClass:"radio",on:{click:t.showDelayed}},[a("input",{staticClass:"radio__input visually-hidden",attrs:{type:"radio",name:"delayed"}}),a("span",{staticClass:"radio__box"}),t._v("\n        Да\n      ")]),a("label",{staticClass:"radio",on:{click:t.hideDelayed}},[a("input",{staticClass:"radio__input visually-hidden",attrs:{type:"radio",name:"delayed",checked:""}}),a("span",{staticClass:"radio__box"}),t._v("\n        Нет\n      ")])]),a("button",{staticClass:"controls__button",attrs:{type:"button"},on:{click:t.getNewData}},[t._v("Новые данные")])])])},C=[],w=a("cebc"),D=a("2f62"),O={name:"Controls",methods:Object(w["a"])({},Object(D["c"])(["showDelayed","hideDelayed","showDepartures","showArrivals"]),Object(D["b"])(["getNewData"]))},j=O,x=(a("4ff6"),Object(h["a"])(j,y,C,!1,null,"116bde0a",null)),S=x.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{staticClass:"search",on:{submit:function(t){t.preventDefault()}}},[a("label",{staticClass:"search__label",attrs:{for:"timetable-search"}},[t._v("Поиск рейса")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.userInput,expression:"userInput"}],staticClass:"search__input",attrs:{type:"search",id:"timetable-search"},domProps:{value:t.userInput},on:{input:[function(e){e.target.composing||(t.userInput=e.target.value)},t.update]}})])},k=[],M={name:"TimetableSearch",methods:{update:function(){this.$store.commit("updateSearchQuery",this.userInput.trim())}},data:function(){return{userInput:""}}},N=M,P=(a("757d"),Object(h["a"])(N,T,k,!1,null,"08195b73",null)),$=P.exports,E={name:"app",components:{Timetable:v,TimetableControls:S,TimetableSearch:$},beforeMount:function(){this.$store.dispatch("getNewData")}},I=E,Q=(a("034f"),Object(h["a"])(I,s,i,!1,null,null,null)),F=Q.exports,A=(a("55dd"),[{name:"Анадырь (Угольный)",code:"DYR"},{name:"Братск",code:"BTK"},{name:"Владивосток (Кневичи)",code:"VVO"},{name:"Внуково",code:"VKO"},{name:"Домодедово",code:"DME"},{name:"Казань",code:"KZN"},{name:"Кемерово",code:"KEJ"},{name:"Магнитогорск",code:"MQF"},{name:"Минеральные Воды",code:"MRV"},{name:"Нижневартовск",code:"NJC"},{name:"Волгоград (Гумрак)",code:"VOG"},{name:"Магнитогорск",code:"MQF"},{name:"Астрахань (Нариманово)",code:"ASF"},{name:"Крайний (Байконур)",code:"BXY"}]),K=["SU","AZ","KM","NW","UZ","BY"],V=["регистрация","задержан","отменён","посадка","","",""],J=function(t,e){return Math.floor(Math.random()*(e-t))+t},B=function(t){return t.sort(function(t,e){var a=t.time.hours,n=t.time.minutes,s=e.time.hours,i=e.time.minutes;return a<s?-1:a>s?1:n-i})},Y=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=[],a=0;a<t;a+=1){var n={destination:A[J(0,A.length)],flight:"".concat(K[J(0,K.length)]," ").concat(J(100,9999)),time:{minutes:J(0,60),hours:J(0,24)},status:V[J(0,V.length)]};e.push(n)}return B(e)},Z=Y,L=(a("386d"),a("ffe7")),R=a.n(L),U=function(t,e){var a={shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["destination.name","destination.code","flight"]},n=new R.a(t,a);return n.search(e)};n["a"].use(D["a"]);var G=new D["a"].Store({state:{departures:null,arrivals:null,flightsDisplay:{mode:"departures",entriesPerPage:15,showDelayed:!1},searchQuery:null},mutations:{getNewData:function(t){t.departures=Z(200),t.arrivals=Z(200)},showDelayed:function(t){t.flightsDisplay.showDelayed=!0},hideDelayed:function(t){t.flightsDisplay.showDelayed=!1},showDepartures:function(t){t.flightsDisplay.mode="departures"},showArrivals:function(t){t.flightsDisplay.mode="arrivals"},updateSearchQuery:function(t,e){t.searchQuery=e}},actions:{getNewData:function(t){t.commit("getNewData")}},getters:{getFilteredFlights:function(t){var e=[];switch(t.flightsDisplay.mode){case"departures":e=t.departures.slice();break;case"arrivals":e=t.arrivals.slice();break;default:throw new Error("Неверное значение state.flightsDisplay.mode")}if(t.flightsDisplay.showDelayed){var a="задержан";e=e.filter(function(t){return t.status===a})}return null!==t.searchQuery&&""!==t.searchQuery&&(e=U(e,t.searchQuery)),e.slice(0,t.flightsDisplay.entriesPerPage)}}});n["a"].config.productionTip=!1,new n["a"]({store:G,render:function(t){return t(F)}}).$mount("#app")},"64a9":function(t,e,a){},"757d":function(t,e,a){"use strict";var n=a("3e4a"),s=a.n(n);s.a},"9e98":function(t,e,a){},a7c7:function(t,e,a){},ac11:function(t,e,a){"use strict";var n=a("f1d4"),s=a.n(n);s.a},f1d4:function(t,e,a){}});
//# sourceMappingURL=app.c2ea73a8.js.map